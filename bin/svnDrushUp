#!/bin/bash
#
# File: svnDrushUp
# Author: Chris Albrecht
# Date: 2011/jul/22
#
# Update a module using Drush then add/remove any new/old files and commit the
# changes to the repository.

if [ -z $1 ]; then
  echo "Specify a module to update."
  exit 1
fi

# Update the module
drush up $1

# Add new files to SVN
svn add --force `drush dd $1`

# Remove files that no longer exist.
svnRm `drush dd $1`

# Commit the changes to the repo
svn ci `drush dd $1` -m "Updating $1"
